import time
from ndn.encoding import parse_data

BUF = (
    b'\x06\xbb\x07\x74\x08\x06\x67\x6f\x2d\x6e\x64\x6e\x08\x04\x74\x65\x73\x74\x08\x01\x61\x08\x01\x61\x08\x01\x61\x08\x01\x61'
    b'\x08\x01\x61\x08\x01\x61\x08\x01\x61\x08\x01\x61\x08\x01\x61\x08\x01\x61\x08\x01\x61\x08\x01\x61\x08\x01\x61\x08\x01\x61'
    b'\x08\x01\x61\x08\x01\x61\x08\x01\x61\x08\x01\x61\x08\x01\x61\x08\x01\x61\x08\x01\x61\x08\x01\x61\x08\x01\x61\x08\x01\x61'
    b'\x08\x01\x61\x08\x01\x61\x08\x01\x61\x08\x01\x61\x08\x01\x61\x08\x01\x61\x08\x0a\x30\x30\x30\x30\x30\x30\x30\x30\x30\x31'
    b'\x14\x10\x18\x01\x00\x19\x02\x0f\xa0\x1a\x07\x08\x05\x31\x30\x30\x30\x30\x15\x0a\x52\xfd\xfc\x07\x21\x82\x65\x4f\x16\x3f'
    b'\x16\x03\x1b\x01\x00\x17\x20\xa3\x3c\xc2\x68\xf8\x76\x4f\xe7\xfa\xb9\xe7\x39\xfb\xe0\x47\xdc\xff\xdc\x0a\x3c\x4d\xb5\xf2'
    b'\x4b\x3c\x53\xd0\xd2\x26\x81\xea\xc6'
)

def one_run():
    parse_data(BUF)


def main():
    tic = time.perf_counter()
    for i in range(1000000):
        one_run()
    toc = time.perf_counter()
    print(f"Total time: {toc - tic:0.4f} seconds")


if __name__ == '__main__':
    main()
